<div class="container">

	<h1>Upload Deals</h1>

	<form [formGroup]="dealsForm" #form="ngForm">

		<div>
			<mat-form-field appearance="outline">
				<mat-label>Meio</mat-label>

				<mat-select formControlName="meio">
					<mat-option value="otv"> OTV </mat-option>
					<mat-option value="ptv"> PTV </mat-option>
					<mat-option value="radio"> Radio </mat-option>
					<mat-option value="ooh"> OOH </mat-option>
				</mat-select>

				<!--mat-error considera os validadores para decidir se mostra esse elemento -->
				<mat-error>Selecione uma opção</mat-error>
			</mat-form-field>
		</div>

		<div>
			<mat-form-field appearance="outline">
				<mat-label>Mês</mat-label>
				<mat-select formControlName="mes">
					<mat-option value=1> Janeiro </mat-option>
					<mat-option value=2> Fevereiro </mat-option>
					<mat-option value=3> Março </mat-option>
					<mat-option value=4> Abril </mat-option>
					<mat-option value=5> Maio </mat-option>
					<mat-option value=6> Junho </mat-option>
					<mat-option value=7> Julho </mat-option>
					<mat-option value=8> Agosto </mat-option>
					<mat-option value=9> Setembro </mat-option>
					<mat-option value=10> Outubro </mat-option>
					<mat-option value=11> Novembro </mat-option>
					<mat-option value=12> Dezembro </mat-option>
				</mat-select>
			</mat-form-field>
		</div>

		<div>
			<input 	class ="file-input" type="file" formControlName="files" [multiple]=true
							(change)="onFileSelected($event)" #fileUploadInput>
		</div>

		<div class="file-upload">

			 {{selectedFiles || "No file uploaded yet."}}

			<button mat-mini-fab color="primary" type="file" 
					(click)="fileUploadInput.click()">

				<mat-icon>attach_file</mat-icon>
			</button>
		</div>
		

		<div *ngFor="let file of selectedFiles;let i =index">
			<span>{{file}}</span>
			<button class="mdc-button" (click)="removeFile(i)">
	   	<span class="mdc-button__label">Remover</span>
			</button>
			
		</div>
		<button mat-raised-button  (click)="onSubmit(form)"
						[disabled]='!dealsForm.valid'>Enviar</button>


	</form>

</div>
